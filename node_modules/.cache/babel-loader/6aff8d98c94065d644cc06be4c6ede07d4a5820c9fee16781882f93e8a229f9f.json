{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/szucs/OneDrive/Dokumentumok/coding stuff/Netflix React Routing/M7-Day-5-Solo-Project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/szucs/OneDrive/Dokumentumok/coding stuff/Netflix React Routing/M7-Day-5-Solo-Project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/szucs/OneDrive/Dokumentumok/coding stuff/Netflix React Routing/M7-Day-5-Solo-Project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/szucs/OneDrive/Dokumentumok/coding stuff/Netflix React Routing/M7-Day-5-Solo-Project/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/szucs/OneDrive/Dokumentumok/coding stuff/Netflix React Routing/M7-Day-5-Solo-Project/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/szucs/OneDrive/Dokumentumok/coding stuff/Netflix React Routing/M7-Day-5-Solo-Project/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/szucs/OneDrive/Dokumentumok/coding stuff/Netflix React Routing/M7-Day-5-Solo-Project/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{Spinner,Carousel,Row,Col}from'react-bootstrap';import Error from\"./Error\";import SingleMovie from\"./SingleMovie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Movies=/*#__PURE__*/function(_React$Component){_inherits(Movies,_React$Component);var _super=_createSuper(Movies);function Movies(){var _this;_classCallCheck(this,Movies);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isLoading:true,isError:false,movies:[]};return _this;}_createClass(Movies,[{key:\"getMovies\",value:function(){var _getMovies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,movies;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://www.omdbapi.com/?apikey=2ba0b717&s=\".concat(encodeURIComponent(this.props.search)));case 3:response=_context.sent;if(!response.ok){_context.next=14;break;}_context.next=7;return response.json();case 7:data=_context.sent;movies=data.Search;this.setState(_objectSpread(_objectSpread({},this.state),{},{movies:movies,isLoading:false}));console.log(data.Search);console.log(movies);_context.next=16;break;case 14:console.log('No movies found');this.setState(_objectSpread(_objectSpread({},this.state),{},{isLoading:false,isError:true}));case 16:_context.next=22;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](0);console.log(_context.t0);this.setState(_objectSpread(_objectSpread({},this.state),{},{isLoading:false,isError:true}));case 22:case\"end\":return _context.stop();}}},_callee,this,[[0,18]]);}));function getMovies(){return _getMovies.apply(this,arguments);}return getMovies;}()},{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"random stuff\");this.getMovies();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"movie-gallery m-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-light mt-2 mb-2\"}),this.state.isLoading&&/*#__PURE__*/_jsx(Spinner,{}),this.state.isError&&/*#__PURE__*/_jsx(Error,{}),!this.state.isLoading&&!this.state.isError&&/*#__PURE__*/_jsxs(Carousel,{children:[/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(Row,{className:\"row\",children:this.state.movies.slice(0,6).map(function(movie){return/*#__PURE__*/_jsx(SingleMovie,{id:movie.imdbID,title:movie.title,plot:movie.Plot,image:movie.Poster},movie.imdbID);})})}),/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(Row,{className:\"row\",children:this.state.movies.slice(6,12).map(function(movie){return/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{className:\"poster\",alt:\"movie cover\",src:movie.Poster})})});})})})]})]});}}]);return Movies;}(React.Component);export default Movies;","map":{"version":3,"names":["React","Spinner","Carousel","Row","Col","Error","SingleMovie","Movies","state","isLoading","isError","movies","fetch","encodeURIComponent","props","search","response","ok","json","data","Search","setState","console","log","getMovies","slice","map","movie","imdbID","title","Plot","Poster","Component"],"sources":["C:/Users/szucs/OneDrive/Dokumentumok/coding stuff/Netflix React Routing/M7-Day-5-Solo-Project/src/components/Movies.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Spinner,  Carousel, Row, Col} from 'react-bootstrap'\r\nimport Error from \"./Error\";\r\nimport SingleMovie from \"./SingleMovie\";\r\n\r\n\r\nclass Movies extends React.Component {\r\n\r\n    state = {\r\n        isLoading: true,\r\n        isError: false,\r\n        movies: []\r\n    }\r\n\r\n    async getMovies() {\r\n        try {\r\n        \r\n        const response = await fetch(`http://www.omdbapi.com/?apikey=2ba0b717&s=${encodeURIComponent(this.props.search)}`)\r\n        if(response.ok) {\r\n            const data = await response.json()\r\n            let movies = data.Search\r\n              this.setState({ ...this.state, movies: movies, isLoading: false })\r\n               console.log(data.Search)\r\n              console.log(movies)\r\n          } else {\r\n              console.log('No movies found')\r\n              this.setState({\r\n                ...this.state,\r\n                isLoading: false,\r\n                isError: true,\r\n              })\r\n             \r\n          }\r\n        } catch(e) {\r\n\r\n            console.log(e)\r\n            this.setState({\r\n              ...this.state,\r\n                isLoading: false,\r\n                isError: true,\r\n              })\r\n        \r\n        }\r\n      }\r\n        \r\n\r\n        \r\ncomponentDidMount() {\r\n    console.log(\"random stuff\")\r\n    this.getMovies()\r\n}\r\n    \r\nrender() {\r\n  return (\r\n    <div className=\"movie-gallery m-2\">\r\n    <h5 className=\"text-light mt-2 mb-2\"></h5>\r\n\r\n    {this.state.isLoading && <Spinner></Spinner>}\r\n\r\n    {this.state.isError && (\r\n        <Error></Error>\r\n    )}\r\n\r\n    {!this.state.isLoading && !this.state.isError && (\r\n        <Carousel>\r\n         \r\n                        <Carousel.Item>\r\n                        <Row className='row'>\r\n                        {this.state.movies.slice(0, 6).map((movie) => ( \r\n              \r\n               \r\n                    \r\n                          \r\n              <SingleMovie key={movie.imdbID} id={movie.imdbID} title={movie.title} plot={movie.Plot} image={movie.Poster}/>\r\n\r\n                                \r\n                            \r\n                        \r\n                               \r\n                    \r\n                \r\n            ))}</Row>\r\n            </Carousel.Item>\r\n            \r\n            <Carousel.Item>\r\n                        <Row className='row'>\r\n                        {this.state.movies.slice(6, 12).map((movie) => ( \r\n              \r\n               \r\n                    \r\n                          \r\n                                <Col md={2}>\r\n                                 \r\n                                    <a href=\"#\">\r\n                                        <img className=\"poster\" alt=\"movie cover\" src={movie.Poster} />\r\n                                    </a>\r\n                                    \r\n                                    \r\n\r\n                                </Col>\r\n\r\n                                \r\n                            \r\n                        \r\n                               \r\n                    \r\n                \r\n            ))}</Row>\r\n            </Carousel.Item>\r\n\r\n        </Carousel>\r\n    )}\r\n</div>\r\n);\r\n}\r\n}\r\n\r\n  \r\n\r\nexport default Movies"],"mappings":"ouCAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,OAAO,CAAGC,QAAQ,CAAEC,GAAG,CAAEC,GAAG,KAAO,iBAAiB,CAC7D,MAAOC,MAAK,KAAM,SAAS,CAC3B,MAAOC,YAAW,KAAM,eAAe,CAAC,2FAGlCC,OAAM,uUAERC,KAAK,CAAG,CACJC,SAAS,CAAE,IAAI,CACfC,OAAO,CAAE,KAAK,CACdC,MAAM,CAAE,EACZ,CAAC,+IAED,oMAG2BC,MAAK,qDAA8CC,kBAAkB,CAAC,IAAI,CAACC,KAAK,CAACC,MAAM,CAAC,EAAG,QAA5GC,QAAQ,mBACXA,QAAQ,CAACC,EAAE,gDACSD,SAAQ,CAACE,IAAI,EAAE,QAA5BC,IAAI,eACNR,MAAM,CAAGQ,IAAI,CAACC,MAAM,CACtB,IAAI,CAACC,QAAQ,gCAAM,IAAI,CAACb,KAAK,MAAEG,MAAM,CAAEA,MAAM,CAAEF,SAAS,CAAE,KAAK,GAAG,CACjEa,OAAO,CAACC,GAAG,CAACJ,IAAI,CAACC,MAAM,CAAC,CACzBE,OAAO,CAACC,GAAG,CAACZ,MAAM,CAAC,gCAEnBW,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,CAC9B,IAAI,CAACF,QAAQ,gCACR,IAAI,CAACb,KAAK,MACbC,SAAS,CAAE,KAAK,CAChBC,OAAO,CAAE,IAAI,GACb,0FAKJY,OAAO,CAACC,GAAG,aAAG,CACd,IAAI,CAACF,QAAQ,gCACR,IAAI,CAACb,KAAK,MACXC,SAAS,CAAE,KAAK,CAChBC,OAAO,CAAE,IAAI,GACb,sEAGT,sHAIP,4BAAoB,CAChBY,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC3B,IAAI,CAACC,SAAS,EAAE,CACpB,CAAC,sBAED,iBAAS,CACP,mBACE,aAAK,SAAS,CAAC,mBAAmB,wBAClC,WAAI,SAAS,CAAC,sBAAsB,EAAM,CAEzC,IAAI,CAAChB,KAAK,CAACC,SAAS,eAAI,KAAC,OAAO,IAAW,CAE3C,IAAI,CAACD,KAAK,CAACE,OAAO,eACf,KAAC,KAAK,IACT,CAEA,CAAC,IAAI,CAACF,KAAK,CAACC,SAAS,EAAI,CAAC,IAAI,CAACD,KAAK,CAACE,OAAO,eACzC,MAAC,QAAQ,yBAEO,KAAC,QAAQ,CAAC,IAAI,wBACd,KAAC,GAAG,EAAC,SAAS,CAAC,KAAK,UACnB,IAAI,CAACF,KAAK,CAACG,MAAM,CAACc,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,GAAG,CAAC,SAACC,KAAK,qBAKnD,KAAC,WAAW,EAAoB,EAAE,CAAEA,KAAK,CAACC,MAAO,CAAC,KAAK,CAAED,KAAK,CAACE,KAAM,CAAC,IAAI,CAAEF,KAAK,CAACG,IAAK,CAAC,KAAK,CAAEH,KAAK,CAACI,MAAO,EAA1FJ,KAAK,CAACC,MAAM,CAAgF,EAQ/G,CAAC,EAAO,EACO,cAEhB,KAAC,QAAQ,CAAC,IAAI,wBACF,KAAC,GAAG,EAAC,SAAS,CAAC,KAAK,UACnB,IAAI,CAACpB,KAAK,CAACG,MAAM,CAACc,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAACC,GAAG,CAAC,SAACC,KAAK,qBAKlC,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE,uBAEP,UAAG,IAAI,CAAC,GAAG,uBACP,YAAK,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,GAAG,CAAEA,KAAK,CAACI,MAAO,EAAG,EAC/D,EAIF,EAQzB,CAAC,EAAO,EACO,GAGvB,GACC,CAEN,CAAC,oBA5GoB/B,KAAK,CAACgC,SAAS,EAiHpC,cAAezB,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}